<header>
    <div class="container">
        <div class="row">
            <div class="col-lg-auto col-md-auto mx-auto">
                <div class="post-heading">
                    <h1>My intuition on Calculus</h1>
                </div>
            </div>
        </div>
    </div>
</header>

<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-auto col-md-auto mx-auto">
                First of all before writing about calculus we must know what a function is. A function is like a mathematical machine that receives some input and returns an
                output. The input and output could be anything. Here I will just write about functions of one input or univariate functions (one variable functions). Every function
                has a domain which is the set of all possible input values and a co-domain which is the set of all outputs. A function assigns one output for each input.<br><br>
                Consider the following example of functions $F: X \rightarrow Y $:
                <ul>
                    <li>$F: \text{Dollars} \rightarrow \text{Euros};\;\;\;\;\;F(1) = 0.86$</li>
                    <li>$F: \text{Countries} \rightarrow \text{Capitals};\;\;\;\;\;F(\text{"Portugal"}) = \text{"Lisboa"}$</li>
                    <li>$F: \text{Words in English} \rightarrow \text{Words in Portuguese};\;\;\;\;\;F(\text{"Hello"}) = \text{"Ola"}$</li>
                    <li>$F: \text{Problems} \rightarrow \text{Solutions}$</li>
                </ul>
                <br>
                As you could guess $F$ is the function, $X$ is the set of inputs and $Y$ is the set of outputs. In this article we will only refer to functions
                $F : \mathbb{R}\rightarrow \mathbb{R}$. <br>
                Let $f : \mathbb{R}\rightarrow \mathbb{R}$ , $f : x \rightarrow y$ and $f(x) = y$ where $x \in \mathbb{R}$ is the input and $y \in \mathbb{R}$ is the output.<br>
                Let $$ f(x) = 2x + 1$$
                We can compute $y$ the follow way.
                <div style="text-align: center;">
                    $x = $ <input type="number" style="width: 55px;" id="simple_function_x" value="1" onchange="y()">
                </div>
                <div id="simple_function"></div>
                <script>
                    function y() {
                        $("#simple_function").html("$$y = f(" + $("#simple_function_x").val() + ") = 2(" + $("#simple_function_x").val()  + ") + 1 = " + ( 2 *
                        $("#simple_function_x").val() +  1) + " $$");
                        MathJax.Hub.Queue(["Typeset", MathJax.Hub, "simple_function"]);
                    }
                    y();
                </script>

                A good visualization of a function is the graph of one (check Fig.1) where the curve represents all the points $(x, f(x))$. Any curve that you can imagine such
                that there are no two points in the curve with the same $x$ coordinate, is a valid graph of a function. For more about functions check <a
                    href="https://en.wikipedia.org/wiki/Function_(mathematics)"> wikipedia </a>.
                <br>
                <br>

                <div style="text-align: center;">
                    <img border="0" src="http://s3.amazonaws.com/answer-board-image/74d15c42-347a-416b-a659-37672b146c72.png" height="400" width="400"/></a>
                    <p>Fig.1 Graph of a function</p>
                </div>
                <br>
                <br>
                Now let me give you a problem, suppose you wanted to find a function $f: \mathbb{R} \rightarrow \mathbb{R}, f: x \rightarrow y$ such that for input $a$ we will
                get $f(a)$ and for $b$ the output $f(b)$. How do you do it ?  This function must also fulfil the condition that the graph is a continuous curve (more on that
                later).<br>

                A possible solution is as follows. Imagine a function as a graph, then we already have two points of the curve $(a,f(a))$ and $(b,f(b))$. Now just trace a curve
                between those two points (as long as follows the rules above) and voila! The problem with such method is that it isn't very precise, we
                need a better way, an algorithmic one. The most simple curve I can imagine is a straight line between the two points $(a,f(a))$ and $(b,f(b))$. But how can I
                describe such curve in a mathematical/algorithmic way ?
                <br/>
                <br/>

                <div style="text-align: center;">
                    <img border="0" height="360"
                         src="https://2.bp.blogspot.com/-AOz15UYfheE/U4n2SR-kWpI/AAAAAAAAAIE/YKaUAfDNaEw/s400/line.png"
                         width="400"/>

                    <p>Fig.2 Linear function</p>
                </div>
                <br/>
                <br/>

                A solution can be found by looking to figure 2. We see two triangles, triangle $t =\left < (a,f(a)) , (x,f(a)), (x,f(x)) \right >$ and triangle $T = \left <
                (a,f(a)),(b,f(a)),(b,f(b))\right >$. Its easy to see that all angles of $t$ are equal to the angles of $T$, hence the triangles are similar (this means $T$
                is scaled version of $t$), which mean that:
                $$(x - a) k = (b - a)$$
                $$(f(x) - f(a)) k = f(b) -f(a) \;\;\;\;\;\;\;(1)$$

                Hence $k = \frac{b-a}{x-a}$ , then by substituting $k$ on (1) we get :
                $$ f(x) = f(a) + \frac{f(b)-f(a)}{b-a} (x - a)\;\;\;\;\;\;\;(2)$$

                Equation (2) is the equation of the line. I leave as an exercise to check that in fact this equation solves our problem. There is still other way to get to the
                line equation that I want explain. This approach let us see functions in a different geometric way such that it will be easier to extend to more variables.


                Note that if $(x-a) = 1$ then $f(x)-f(a) = \frac{f(b)-f(a)}{b-a}$ which means $\frac{f(b)-f(a)}{b-a}$ is the rate of
                change(gradient) of this curve, this means that for a step $h $ in the domain $y(a + h) = f(a) + h \frac{f(b)-f(a)}{b-a}$.<br/>
                <br/>
                Now let me give you another problem, imagine that someone gave you a machine that computes a function $f$, where you introduce an $x$ and the machine&nbsp;spits out
                a $y$. That person tells you also that the graph of the function is a smooth curve. Imagine also that you can't visualize that graph. Then somebody ask you if the
                function at $x$ is raising ? A solution to this could be, create a line that approximates this function at $x$, to do that we take two points of the function close
                to each other, then compute the line between them and if the gradient &gt; 0 then the
                function is increasing, else if gradient $< 0$ then is decreasing , else the function is constant.
                <br/>
                <br/>

                <div style="text-align: center;">
                    <img border="0"
                         src="http://www.teacherschoice.com.au/images/derivative_secant_1.gif"
                         height="324" width="400"/>

                    <p>Fig.3 Secant approximation</p>
                </div>
                <br/>
                <br/>
                Note that we will have a problem if $h$ is too big, because the curve could go down an up in the interval $[x,x+h]$, so in other to solve this we should find the
                tangent line to the function. To find a tangent to a curve we simply decrease $h$ to zero until the gradient of the line between $(x,f(x))$ and $(x + h, f(x + h))$
                converges to a number.
                <br/>
                <br/>

                <div style="text-align: center;">
                    <img border="0"
                         src="http://www.teacherschoice.com.au/images/derivative_secant_2.gif"
                         height="230" width="400"/>

                    <p>Fig.4 Tangent approximation</p>
                </div>
                <br/>
                <br/>
                The tangent line to the function at $x = a$ will be $$g(x) = f(a) + f '(a) (x - a)\;\;\;\;\;\;\;(3)$$<br/>
                <br/>
                where $f'(a) = \lim_{h\rightarrow0} \; \frac{f(a+h) - f(a)}{h}$ and this means , decrease $h$ to zero until $\frac{f(a+h) - f(a)}{h}$ converges to a number, also
                $f'(x)$ is the derivative of $f$. Now we can solve our problem. Note also that the tangent line is a local approximation of the curve.<br/>
                <br/>
                <br/>
                I have written about functions, tangent lines and derivatives what about integration, for that I will give you another problem. Suppose you wanted to find a
                function $y(t)$, and the only thing you know about that function is it derivative for all $t$(we have this $y'(t)$) and that $y(t_{0}) = y_{0}$. How would you solve
                this? Using the ideas above, with the derivative we can draw a tangent line, then we can compute the function a little step ahead , like $$y(t_{0} + h) = y(t_{0}) +
                y'(t_{0}) h\;\;\;\;\;\;\;(4)$$
                <br/>
                <br/>

                <div style="text-align: center;">
                    <img border="0" src="http://tutorial.math.lamar.edu/Classes/DE/EulersMethod_files/image001.gif" height="253" width="400"/>

                    <p>Fig.5 Euler step</p>
                </div>
                <br/>
                <br/>

                So if we wanted to find $y(t)$ we would get a approximate result like this:<br/>
                First choose a $h > 0$ close to zero, then we sum various steps of the tangent lines like figure 6.
                <br/>
                <br/>

                <div style="text-align: center;">
                    <img border="0" height="337"
                         src="https://1.bp.blogspot.com/-LdEJcMlXgH0/U90QHj4oJMI/AAAAAAAAAKA/p81Euh31eb4/s640/DF.png"
                         width="640"/>

                    <p>Fig.6 Euler step II</p>
                </div>
                <br/>
                <br/>
                This translates in the following equation:$$y(t) \approx y(t_{0}) + \sum_{i= 0}^{n}y'(t_{0}+ih)h =y(t_{0}) + y'(t_{0})h + y'(t_{0} + h) h +
                ...\;\;\;\;\;\;\;(5)$$<br/>
                <br/>
                where $n= \left \lfloor \frac{t-t_{0}}{h} \right \rfloor$, note that as $h\rightarrow0$ the approximation gets better and $n \rightarrow \infty $. Also note that
                summations of the form $$ \lim_{\Delta x\rightarrow0} \; \sum_{i= 0}^{n}f(a+i\Delta x)\Delta x$$ corresponds to areas under the graph of the function $f$.
                <br/>
                <br/>

                <div style="text-align: center;">
                    <img border="0"
                         src="http://upload.wikimedia.org/wikipedia/commons/2/27/Integral_definida_rectangulos.jpg"
                         height="412" width="640"/>

                    <p>Fig.7 Integral definition</p>
                </div>
                <br/>
                <br/>
                Hence we can solve our problem using (5) while $h \rightarrow 0$.<br/>
                $$y(t) = y(t_{0}) + \lim_{h\rightarrow0} \; \sum_{i= 0}^{n}y'(t_{0}+ih)h.\;\;\;\;\;\;\;(6)$$<br/>
                <br/>
                Now to simplify the notation we define integral as $$\lim_{h\rightarrow0} \; \sum_{i= 0}^{n}f(a+ih)h = \int_{a}^{b} f(x) dx, n= \left \lfloor \frac{b-a}{h} \right
                \rfloor\;\;\;\;\;\;\;(7)$$<br/>
                <br/>
                With (6) and (7) we get $$y(t) = y(t_{0}) + \int_{t_{0}}^{t} y'(\tau) d\tau$$.<br/>
                <br/>
                Hence $$\int_{t{0}}^{t} y'(\tau) d\tau = y(t) - y(t_{0})$$ which is the fundamental theorem of calculus<br/>
                <br/>
                Final remark<br/>
                <br/>
                To compute
                $$\lim_{x\rightarrow a}f(x)$$
                <br/>
                just do the following iteration. Start $x(0) = x_{0}$ then iterate
                $$x(i+1) = x(i) + (a - x(i)) \epsilon$$
                <br/>
                and stop the iteration when
                $$|f(x(i)) - f(x(i-1))| < \delta$$.
                <br/>
                Where $0 < \epsilon < 1$ and $\forall \delta > 0$. Then return $\lim_{x\rightarrow a}f(x) = f(x(i_{converge}))$.
            </div>
        </div>
    </div>
</article>