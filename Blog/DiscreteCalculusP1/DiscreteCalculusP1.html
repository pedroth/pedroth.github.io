<html>
<head>
<!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-NQKJHP3');</script>
<!-- End Google Tag Manager -->
    <style>
        #experimentsTab {
        display: none
        }

        #projectTitle {
        color : rgb(255,255,255)
        }

        #header{
        background: #212121;
        background: -moz-linear-gradient(top, #373737, #212121);
        background: -webkit-linear-gradient(top, #373737, #212121);
        background: -ms-linear-gradient(top, #373737, #212121);
        background: -o-linear-gradient(top, #373737, #212121);
        background: linear-gradient(top, #373737, #212121);
        }

        #footer{
        background: #212121;
        background: -moz-linear-gradient(top, #373737, #212121);
        background: -webkit-linear-gradient(top, #373737, #212121);
        background: -ms-linear-gradient(top, #373737, #212121);
        background: -o-linear-gradient(top, #373737, #212121);
        background: linear-gradient(top, #373737, #212121);
        color: #fff;
        padding: 50px 10px 5px 10px;
        }

        #main_content{
            padding-right: 1px;
            padding-left: 1px;
        }

        .tr-caption-container {
            margin-top: 10px;
            margin-bottom: 10px;
        }
    </style>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="VisualExperiments : ">
    <script type="text/x-mathjax-config">
	  	MathJax.Hub.Config({
	    extensions: ["tex2jax.js"],
	    jax: ["input/TeX", "output/HTML-CSS"],
	    tex2jax: {
	      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
	      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
	      processEscapes: true
	    },
	    "HTML-CSS": { availableFonts: ["TeX"] }
	  });

    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
            type='text/javascript'></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.2/css/bootstrap-select.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.2/js/bootstrap-select.min.js"></script>
</head>
<body>
<!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-NQKJHP3"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
<div id="header" class="jumbotron text-center">
    <a href="https://pedroth.github.io/visualExperiments/"><h1 id="projectTitle">VisualExperiments</h1></a>
    <ul class="list-inline">
        <li>
            <h3><a href="javascript:void(0)" id="experimentsName">Experiments</a></h3>
        </li>
        <li><h3><a href="https://pedroth.github.io/visualExperiments/Blog/Blog.html">Blog</a></h3></li>
        <li><h3><a href="https://www.youtube.com/user/peterluigi/">Youtube</a></h3></li>
        <li><h3><a href="https://www.khanacademy.org/profile/pedroth/programs">Khan Academy</a></h3></li>
    </ul>
    <div>
        <ul class="list-inline" id="experimentsTab">
            <li><h3><a href="https://pedroth.github.io/visualExperiments/JsExperiments/JsExperiments.html">
                JsExperiments </a></h3></li>
            <li><h3><a href="https://pedroth.github.io/visualExperiments/JavaExperiments/JavaExperiments.html">
                JavaExperiments </a></h3></li>
        </ul>
    </div>
    <script> $("#experimentsName").click( function() { $("#experimentsTab").slideToggle();})</script>
</div>

<div class="container">


<h1>DiscreteCalculusP1</h1>
<header>
    <div class="container">
        <div class="row">
            <div class="col-lg-auto col-md-auto mx-auto">
                <div class="post-heading">
                    <h1>Discrete Calculus I</h1>
                </div>
            </div>
        </div>
    </div>
</header>
<article>
    <div class="container">
        <div class="row">
            <div class="col-lg-auto col-md-auto mx-auto">
                <h2> Intro </h2>

                In this post we want to study sequences. Sequences are functions of the form $f: n \in \mathbb{N}\rightarrow s \in \mathbb{R}$, since $\mathbb{N}$ is a discrete space we can't apply the same rules of differential calculus to sequences.
                Here we will try to build a discrete version of the continuous calculus using the same principles. We will follow the same ideas of previous posts, namely the <a href="http://pedroth.github.io/visualExperiments/Blog/IntuitionOfCalculus/IntuitionOfCalculus.html" target="_blank">intuition of calculus</a> and the <a href="http://pedroth.github.io/visualExperiments/Blog/TaylorPolynomial/TaylorPolynomial.html" target="_blank">Taylor polynomial</a> ( in this discrete setting it is actually called Newton polynomial ).

                <h2> Discrete Derivative </h2>

                Let us look at the following sequence:

                $$1,3,5,7,9,\dots$$

                Can you predict the next in the sequence ? </br>
                Well if we have a formula that describes this sequence it should be easy, so lets find it out. It is easy to see that $f(n+1) - f(n) = 2$ for all numbers we see in the sequence. Assuming this property continues, we can construct the function using this difference.

                $$f(n+1) - f(n) = 2$$
                $$f(n+1)= f(n) + 2$$

                Starting from $n = 0$:

                $$f(0) = 1$$
                $$f(1) = f(0) + 2$$
                $$f(2) = f(1) + 2 = f(0) + 2 + 2$$
                $$f(3) = f(2) + 2 = f(1) + 2 + 2 = f(0) + 3 \times 2$$
                $$\dots$$
                $$f(n) = f(0) + 2n$$

                By applying this formula we find that the next element in the sequence is $f(5) = 11$. This technique can be applied to any sequence. So let's do that! But first let us make one useful definition.

                <h4>Definition 1</h4>

                Discrete derivative:

                $$\Delta f (n) = f(n+1) - f(n)$$

                The discrete derivative defined here is just the forward difference. We could have defined any other difference as a derivative, like the backward difference or the weighted difference.
                In the continuous case all those generalizations of differences would converge to the derivative under the limit procedure, but in the discrete case we don't have such procedure, hence I will stick with this definition.<br><br>

                So how do we construct a sequence using just it's differences? Look at the following steps:

                $$f(0) = f(0)$$
                $$f(1) = f(0) + \Delta f(0)$$
                $$f(2) = f(1) + \Delta f(1) = [f(0) + \Delta f(0)] + \Delta f(1)$$
                $$f(3) = f(2) + \Delta f(2) = [f(1) + \Delta f(1)] + \Delta f(2) = [f(0) + \Delta f(0)] + \Delta f(1) + \Delta f(2)$$
                $$\dots$$
                $$f(n) = f(0) +\sum _{i= 0}^{n-1} \Delta f(i) \;\;\;\; (1)$$

                But (1) is just the fundamental theorem of calculus in the discrete setting:

                $$\sum _{i= 0}^{n-1} \Delta f(i) = f(n) - f(0)$$

                In the discrete theorem we replaced the integral with the summation. Now we can see that the first sequence has the property that for every $n > 0$, $\Delta f(n) = 2$.
                Actually if we assume that a particular sequence has such property, $\forall n > 0, \Delta f(n) = \Delta f(0)$ we would get the linear approximation of the sequence around $n=0$.
                We just need to apply the fundamental theorem of discrete calculus using this assumption, and you would get such approximation, like in the continuous calculus:

                $$f(n) = f(0) +\sum _{i= 0}^{n-1} \Delta f(i) \simeq f(0) +\sum_{i= 0}^{n-1} \Delta f(0) = f(0) + \Delta f(0) n$$

                This approximation would be great for the first few numbers but then it would collapse under its error as $n \rightarrow \infty$.<br><br>

                This reminds me of the <a href="http://pedroth.github.io/visualExperiments/Blog/TaylorPolynomial/TaylorPolynomial.html" target="_blank">Taylor
                polynomial article</a>, therefore we could apply the same techniques and see where we go. Starting from (1) we have:

                $$f(n) = f(0) +\sum _{i= 0}^{n-1} \Delta f(i)$$

                We can apply the same theorem to $\Delta f(n)$

                $$\Delta f(n) = \Delta f(0) +\sum _{i= 0}^{n-1} \Delta(\Delta f(i))$$

                Substituting on (1):

                $$f(n) = f(0) +\sum _{i= 0}^{n-1} \left [ \Delta f(0) + \sum _{j= 0}^{i-1} \Delta^{(2)}f(j) \right ] =
                f(0) + \sum _{i= 0}^{n-1} \Delta f(0) + \sum _{i= 0}^{n-1} \sum _{j= 0}^{i-1} \Delta^{(2)}f(j)\;\;\;\; (2)$$

                Here we see one new concept, the concept of the second derivative $\Delta(\Delta f(n)) = \Delta^{(2)}f(n)$. Which leads me to the second definition:

                <h4>Definition 2</h4>
                Discrete kth derivative:

                $$\Delta^{(k)} f(n) = \Delta^{(k-1)}f(n+1) - \Delta^{(k-1)}f(n)$$

                This definition follows from applying the derivative operator multiple times, e.g:

                $$\Delta^{(2)}f(n) = \Delta(\Delta f(n)) = \Delta f(n+1) - \Delta f(n) = [f(n+2) - f(n+1)] - [f(n + 1) + f(n)] $$

                We can expand (2) little further by doing the same thing for $\Delta^{(2)}f(j)$ and so on:

                $$f(n) = f(0) + \sum _{i= 0}^{n-1} \Delta f(0) + \sum _{i= 0}^{n-1} \sum _{j= 0}^{i-1} \Delta^{(2)}f(0) + \sum _{i=
                0}^{n-1} \sum _{j= 0}^{i-1}\sum_{k=0}^{j-1}\Delta^{(3)}f(0) + \dots\;\;\;\; (3)$$

                Now we have an explicit formula for $f$ in terms of the differentials, but this is a horrible formula. Can we
                simplify it?

                In order to simplify we need to compute:
                $$\Delta f(0)\sum_{i_1 = 0}^{n-1} 1$$
                $$\dots$$
                $$\Delta^{(k)}f(0)\sum_{i_1 = 0}^{n-1} \dots \sum_{i_k = 0}^{i_{k-1} - 1}1$$

                To simplify the notation I define:
                $$\Psi(n,k) = \sum_{i_1 = 0}^{n-1} \dots \sum_{i_k = 0}^{i_{k-1} - 1}1$$

                Then (3) becomes:
                $$f(n) = f(0) + \Delta f(0) \Psi(n,1) + \dots + \Delta^{(k)}f(0)\Psi(n,k)+ \dots$$

                In the continuous calculus we had a similar problem, the Taylor expansion at $x_0=0$ was given by:
                $$f(x) = \sum_{k=0}^{\infty}\frac{d^{(k)}f(0)}{dx^k}\Omega(x,k)$$
                Where $$\Omega (x,k) = \int_{0}^{x} ... \int_{0}^{u_{k-1}}1du_k...du_1$$

                And this is easier than the discrete setting since we have nice closed formulas to compute integrals. In that post we found that:

                $$\Omega(x,k) = \frac{x^k}{k!}$$

                But what what about the discrete case? We have to do the same thing. We know that:
                $$\Psi(n,k) = \sum_{i_1=0}^{n-1}\left [\sum_{i_2=0}^{i_1-1}...\sum_{i_k=0}^{i_{k-1}-1} 1\right]= \sum_{i_1=0}^{n-1}\Psi(i_1,k-1)$$

                Then by the fundamental theorem of discrete calculus and knowing that $\Psi(0,k) = 0$ we get:
                $$\Psi(n,k) = \sum_{i_1=0}^{n-1} \Delta \Psi(i_1, k) = \sum_{i_1=0}^{n-1}\Psi(i_1,k-1)$$
                Hence,
                $$\Delta \Psi(n,k) = \Psi(n,k-1)\;\;\;\;(4)$$

                So from (4) we find the next recursion:
                $$\Psi(n+ 1, k) - \Psi(n,k) = \Psi(n,k-1) \;\;\;\; (5)$$
                $$ \Psi(n+ 1, k) = \Psi(n,k) + \Psi(n,k-1)$$

                Note that $\Psi(n,1) = \sum_{i_1=0}^{n-1}1 = \sum_{i_1=0}^{n-1} \Psi(n,0)$, hence $\Psi(n,0) = 1 \; \forall n\geq 0$.
                Also we can check by definition that $\Psi(0,k) = 0 \;\forall k > 0 $

                With recursion (5) we know how to compute $\Psi(n,k)$

                $$\Psi(n,k) = \begin{cases}
                0\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\text{ if } n = 0 \text{ and
                } k > 0\\
                1 \;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\text{ if } n \geq 0 \text{ and
                } k=0\\
                \Psi(n-1,k) + \Psi(n-1,k-1)\;\;\text{ if } n > 0 \text{ and } k > 0\\
                0\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\;\text{ otherwise}
                \end{cases}$$

                This expression is good for computers but not for humans, hence we need to find another way. Lets check a sequence of $\Psi(n,k)$ values and see if we find some pattern:
                $$\Psi(n,1) = \sum_{i_1=0}^{n-1}1 = n$$
                $$\Psi(n,2) = \sum_{i_1=0}^{n-1}\sum_{i_2=0}^{i_1-1}1 = \sum_{i_1=0}^{n-1}i_1$$

                How do you compute $\sum_{i_1=0}^{n-1}i_1$ ? <br><br>

                We know by the fundamental theorem of discrete calculus that if we find a function $g$, such that $\Delta g(n) = n$ and $g(0) = 0$, then $g(n) = \sum_{i_1=0}^{n-1}\Delta g(i_1) = \sum_{i_1=0}^{n-1} i_1$.<br>
                Let's try $g(n) = n^2$. By definition:
                $$\Delta g(n) = (n+1)^2 - n^2 = 2n + 1$$

                Not quite what we want. We need more tools.<br><br>

                It is simple to proof that:
                $$\Delta(f + g)(n) = \Delta f(n) + \Delta g(n)$$
                And
                $$\Delta(c f)(n) = c \Delta f(n)$$

                <button class="btn btn-primary" onclick='$("#proof_1").slideToggle()'><h4>Proof</h4></button>
                <div id="proof_1" style="display:none">
                    $$\Delta(f(n) + g(n)) = [f(n+1) + g(n+1)] - [f(n) + g(n)] = f(n+1)-f(n) + g(n+1)-g(n) = \Delta f(n) + \Delta g(n)$$

                    and

                    $$\Delta(c f(n)) = [cf(n+1)] - [cf(n)] = c (f(n+1) - f(n)) = c \Delta f(n)$$
                </div>
                <br><br>

                Using these tools and trial and error, I get the following expression:
                $$\Delta \left( \frac{n^2}{2} - \frac{n}{2} \right ) = \frac{\Delta(n^2)}{2} - \frac{\Delta(n)}{2}$$
                $$ \frac{2n + 1}{2} - \frac{1}{2} = n$$
                Thus:
                $$\sum_{i_1=0}^{n-1}i_1 = \frac{n^2 - n}{2} =\frac{n(n-1)}{2}$$

                Is too hard to find $\Psi$ by trial and error, we need another approach.

                <h2> Computing $\Psi$ </h2>

            </div>
        </div>
    </div>
</article>
<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'visualexperiments'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();


        </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
    Disqus.</a></noscript>
</div>


<footer id="footer" class="container-fluid">
    <p class="copyright">VisualExperiments maintained by <a href="https://github.com/pedroth">pedroth</a></p>
    <p>Published with <a href="https://pages.github.com">GitHub Pages</a></p>
</footer>
</body>
</html>


</html>
