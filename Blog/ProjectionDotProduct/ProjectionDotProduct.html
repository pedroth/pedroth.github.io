<html>
<head>
    <style>
        #experimentsTab {
        display: none
        }

        #projectTitle {
        color : rgb(255,255,255)
        }

        #header{
        background: #212121;
        background: -moz-linear-gradient(top, #373737, #212121);
        background: -webkit-linear-gradient(top, #373737, #212121);
        background: -ms-linear-gradient(top, #373737, #212121);
        background: -o-linear-gradient(top, #373737, #212121);
        background: linear-gradient(top, #373737, #212121);
        }

        #footer{
        background: #212121;
        background: -moz-linear-gradient(top, #373737, #212121);
        background: -webkit-linear-gradient(top, #373737, #212121);
        background: -ms-linear-gradient(top, #373737, #212121);
        background: -o-linear-gradient(top, #373737, #212121);
        background: linear-gradient(top, #373737, #212121);
        color: #fff;
        padding: 50px 10px 5px 10px;
        }

        #main_content{
            padding-right: 1px;
            padding-left: 1px;
        }

        .tr-caption-container {
            margin-top: 10px;
            margin-bottom: 10px;
        }
    </style>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="VisualExperiments : ">
    <script type="text/x-mathjax-config">
	  	MathJax.Hub.Config({
	    extensions: ["tex2jax.js"],
	    jax: ["input/TeX", "output/HTML-CSS"],
	    tex2jax: {
	      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
	      displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
	      processEscapes: true
	    },
	    "HTML-CSS": { availableFonts: ["TeX"] }
	  });

    </script>
    <script src='https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML'
            type='text/javascript'></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.2/css/bootstrap-select.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-select/1.11.2/js/bootstrap-select.min.js"></script>
</head>
<body>

<div id="header" class="jumbotron text-center">
    <a href="http://pedroth.github.io/visualExperiments/"><h1 id="projectTitle">VisualExperiments</h1></a>
    <ul class="list-inline">
        <li>
            <h3><a href="javascript:void(0)" id="experimentsName">Experiments</a></h3>
        </li>
        <li><h3><a href="http://pedroth.github.io/visualExperiments/Blog/Blog.html">Blog</a></h3></li>
        <li><h3><a href="https://www.youtube.com/user/peterluigi/">Youtube</a></h3></li>
        <li><h3><a href="https://www.khanacademy.org/profile/pedroth/programs">Khan Academy</a></h3></li>
    </ul>
    <div>
        <ul class="list-inline" id="experimentsTab">
            <li><h3><a href="http://pedroth.github.io/visualExperiments/JsExperiments/JsExperiments.html">
                JsExperiments </a></h3></li>
            <li><h3><a href="http://pedroth.github.io/visualExperiments/JavaExperiments/JavaExperiments.html">
                JavaExperiments </a></h3></li>
        </ul>
    </div>
    <script> $("#experimentsName").click( function() { $("#experimentsTab").slideToggle();})</script>
</div>

<div class="container">


<h1>ProjectionDotProduct</h1>
<h2>
Projection and Dot product</h2>
<div>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-4oraEZB62Fk/U7fA-kWntBI/AAAAAAAAAIU/zNab1lyLE7s/s1600/Dot1.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="263" src="https://1.bp.blogspot.com/-4oraEZB62Fk/U7fA-kWntBI/AAAAAAAAAIU/zNab1lyLE7s/s400/Dot1.png" width="400" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Fig1. The Problem</td></tr>
</tbody></table>
<br />
&nbsp; Let $u \in \mathbb{R}^{3}$ and $v \in \mathbb{R}^{3}$ we want to find $\mathbf{proj}_{\mathbf{v}}\mathbf{u}$. The first thing we can tell about $\mathbf{proj}_{\mathbf{v}}\mathbf{u}$ is that $$\mathbf{proj}_{\mathbf{v}}\mathbf{u} = |\mathbf{proj}_{\mathbf{v}}\mathbf{u}| \frac{\mathbf{v}}{|\mathbf{v}|}\; \; \; \; (1)$$<br />
<br />
&nbsp; Some notation $\mathbf{u}\cdot \mathbf{v} = &nbsp;&lt; \mathbf{u},\mathbf{v}&gt; = \sum_{i=1}^{n} u_i v_i$, which is the inner product(dot product).<br />
<br />
&nbsp; Its is simple to see with some trigonometry that $$\cos (\theta) = \frac{|\mathbf{proj}_{\mathbf{v}}\mathbf{u}|}{|\mathbf{u}|}$$<br />
$$\Leftrightarrow |\mathbf{u}|\cos (\theta) = |\mathbf{proj}_{\mathbf{v}}\mathbf{u}| \;\;\;\;(2)$$<br />
<br />
&nbsp; Now &nbsp;substituting (2) in (1) we get<br />
$$\mathbf{proj}_{\mathbf{v}}\mathbf{u} = &nbsp;|\mathbf{u}|\cos (\theta)\frac{\mathbf{v}}{|\mathbf{v}|} \;\;\;\;(3)$$</div>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody>
<tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-WTBgTl0isso/U7fHkU2bK2I/AAAAAAAAAIk/xZp_DJbhXnE/s1600/Dot2.png" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="194" src="https://4.bp.blogspot.com/-WTBgTl0isso/U7fHkU2bK2I/AAAAAAAAAIk/xZp_DJbhXnE/s1600/Dot2.png" width="320" /></a></td></tr>
<tr><td class="tr-caption" style="text-align: center;">Fig 2</td></tr>
</tbody></table>
<br />
&nbsp; Using Fig 2 and the <a href="http://en.wikipedia.org/wiki/Law_of_cosines" target="_blank">Law of Cosines</a>&nbsp;we get: $$|\mathbf{v} - \mathbf{u}|^{2} = |\mathbf{u}|^{2} + |\mathbf{v}|^{2} - 2|\mathbf{u}||\mathbf{v}|\cos(\theta)$$<br />
$$\Leftrightarrow\cos(\theta) = \frac{|\mathbf{u}|^{2} + |\mathbf{v}|^{2} - |\mathbf{v} - \mathbf{u}|^{2}}{ 2|\mathbf{u}||\mathbf{v}|}$$<br />
<br />
&nbsp; Then simplify $|\mathbf{u}|^{2} + |\mathbf{v}|^{2} - |\mathbf{v} - \mathbf{u}|^{2}$ (simplifying this results in very tedious calculations so try yourself to get the final result). Hence we get $$\cos(\theta) = \frac{\mathbf{u}\cdot\mathbf{v}}{ |\mathbf{u}||\mathbf{v}|} \;\;\;\; (4)$$<br />
<br />
&nbsp; Substituting (4) in (3) we get $$\mathbf{proj}_{\mathbf{v}}\mathbf{u} = &nbsp;\frac{\mathbf{u}\cdot \mathbf{v}}{|\mathbf{v}|^{2}}\mathbf{v}\;\;\;\;(5)$$<br />
<br />
&nbsp; &nbsp;Nice! Now we have a formula for the $\mathbf{proj}_{\mathbf{v}}\mathbf{u}$, but I find that this derivation was too difficult and that we are missing something fundamental on this problem.<br />
<br />
&nbsp; What is really $\mathbf{proj}_{\mathbf{v}}\mathbf{u}$? if we think well you will see that the fundamental problem your are trying to solve is the problem of finding a multiple of $\mathbf{v}$ that best approximates $\mathbf{u}$ ! So we want to find &nbsp;$$\underset{\mathbf{\gamma}}{\operatorname{argmin}}|\mathbf{u} - \gamma \mathbf{v}|^{2}$$<br />
&nbsp;But this is simple to solve, just solve to get $\gamma$ in &nbsp;the following equation $$\frac{\partial}{\partial \gamma}(|\mathbf{u} - \gamma\mathbf{v}|^{2}) = 0 \;\;\;\;(6)$$<br />
<br />
&nbsp;$$\Leftrightarrow \frac{\partial}{\partial \gamma}((u_x - \gamma v_x)^2 + (u_y - \gamma v_y)^2 + (u_z - \gamma v_z)^2) = 0$$<br />
$$\Leftrightarrow (u_x - \gamma v_x)v_x + (u_y - \gamma v_y)v_y + (u_z - \gamma v_z)v_z = 0$$<br />
$$\Leftrightarrow \mathbf{u} \cdot \mathbf{v} - \gamma\mathbf{v} \cdot \mathbf{v} &nbsp;= 0$$<br />
$$\Leftrightarrow \gamma &nbsp;= \frac{\mathbf{u} \cdot \mathbf{v}}{\mathbf{v} \cdot \mathbf{v}} = \frac{\mathbf{u} \cdot \mathbf{v}}{|\mathbf{v}|^2}=\mathbf{proj}_{\mathbf{v}}\mathbf{u}$$<br />
<br />
&nbsp; I think this is the best way to derive projection formula, &nbsp;also it gives us a better intuition in higher dimension. We can generalize this to functions(with domain $\mathbb{R}$ and image $\mathbb{R}$), for instance to compute $\mathbf{proj}_{g}f$ you just need to find $\gamma$ such that when multiplied by $g$ gives the best approximation of $f$. More formally:<br />
&nbsp; Let $f,g:[a,b]\rightarrow\mathbb{R}$ we want to solve $$\underset{\mathbf{\gamma}}{\operatorname{argmin}}\int_{a}^{b}(f(x) - \gamma g(x))^2 dx\;\;\;\; (7)$$<br />
<br />
To find $\gamma$ we proceed as before:<br />
$$\frac{\partial }{\partial\gamma}\left ( \int_{a}^{b}(f(x) - \gamma g(x))^2 dx\right ) = 0$$<br />
$$\Leftrightarrow \int_{a}^{b}\frac{\partial }{\partial\gamma}\left ((f(x) - \gamma g(x))^2\right ) dx = 0$$<br />
$$\Leftrightarrow \int_{a}^{b} (f(x) - \gamma g(x))g(x) dx = 0$$<br />
$$\Leftrightarrow \int_{a}^{b}f(x)g(x)dx - \gamma\int_{a}^{b} g(x)^2dx = 0$$<br />
$$\Leftrightarrow &nbsp;\gamma = \frac{\int_{a}^{b}f(x)g(x)dx}{\int_{a}^{b} g(x)^2 dx}\;\;\;\;(8)$$<br />
<br />
&nbsp; You can check that formula (5) and (8) are very similar, this similarity gives me the urge to define a inner product for functions as $&lt;f,g&gt; = \int_{a}^{b} f(x) g(x) dx$, thus the projection of functions or vectors can be defined as $$\mathbf{proj}_{\mathbf{v}}\mathbf{u} = \frac{&lt;\mathbf{u},\mathbf{v&gt;}}{&lt;\mathbf{v},\mathbf{v}&gt;}\mathbf{v}$$<br />
<br />
$$\mathbf{proj}_{g}f = \frac{&lt;f,g&gt;}{&lt;g,g&gt;}g$$<br />
<br />
This make us think that functions on a interval maybe thought as infinite dimensional vectors. One more thing , note that when $|\mathbf{v}|^2 = &lt;\mathbf{v},\mathbf{v}&gt; = 1$, $\mathbf{v}$, $\mathbf{v}$ is a unit vector then $\mathbf{proj}_{\mathbf{v}}\mathbf{u} = &lt;\mathbf{u},\mathbf{v}&gt; \mathbf{v}$ , in functions if $&lt;g,g&gt; = 1$, this means that $g^2$ is a <a href="http://en.wikipedia.org/wiki/Probability_density_function" target="_blank">probability density function</a>&nbsp;then projection of $f$ in $g$ is $\mathbf{proj}_{g}f = &lt;f,g&gt; g$.<br />
<!-- Disqus -->
<div id="disqus_thread"></div>
<script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'visualexperiments'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();


        </script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
    Disqus.</a></noscript>
</div>


<footer id="footer" class="container-fluid">
    <p class="copyright">VisualExperiments maintained by <a href="https://github.com/pedroth">pedroth</a></p>
    <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
</footer>
</body>
</html>


</html>
